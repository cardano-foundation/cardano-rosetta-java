{
  "test_name": "pool registration with delegation",
  "description": "Test case: pool registration with delegation",
  "request_body": {
    "network_identifier": {
      "blockchain": "cardano",
      "network": "{{networkId}}"
    },
    "operations": [
      {
        "operation_identifier": {
          "index": 0
        },
        "type": "input",
        "account": {
          "address": "addr_test1qz8swh9a7tga0u62lxs6dvnkmpxd0dyeeqx27csh6ywx7qplrv4wtdpvnh6wffzch0uakzhh7uwyvd4asda3zzay0qpqcplwh0"
        },
        "amount": {
          "value": "-600000000",
          "currency": {
            "symbol": "ADA",
            "decimals": 6
          }
        },
        "coin_change": {
          "coin_identifier": {
            "identifier": "35a912e1e2076dde7f4beb39bf74ea484b1ffba29aa44c84a9e5a5ca671e1bfe:0"
          },
          "coin_action": "coin_spent"
        }
      },
      {
        "operation_identifier": {
          "index": 1
        },
        "type": "output",
        "account": {
          "address": "addr_test1qz8swh9a7tga0u62lxs6dvnkmpxd0dyeeqx27csh6ywx7qplrv4wtdpvnh6wffzch0uakzhh7uwyvd4asda3zzay0qpqcplwh0"
        },
        "amount": {
          "value": "99829000",
          "currency": {
            "symbol": "ADA",
            "decimals": 6
          }
        }
      },
      {
        "operation_identifier": {
          "index": 2
        },
        "type": "poolRegistration",
        "account": {
          "address": "1b268f4cba3faa7e36d8a0cc4adca2096fb856119412ee7330f692b5"
        },
        "metadata": {
          "poolRegistrationParams": {
            "vrfKeyHash": "8dd154228946bd12967c12bedb1cb6038b78f8b84a1760b1a788fa72a4af3db0",
            "rewardAddress": "stake_test1uzw3g0wa8f3cvsyyf2k67p6cjqzu4g36s8anlz4lv5jt3fqsvu9xs",
            "pledge": "50000000000",
            "cost": "340000000",
            "poolOwners": [
              "stake_test1uzw3g0wa8f3cvsyyf2k67p6cjqzu4g36s8anlz4lv5jt3fqsvu9xs"
            ],
            "relays": [
              {
                "type": "single_host_addr",
                "ipv4": "127.0.0.1",
                "ipv6": "2001:0db8:85a3:0000:0000:8a2e:0370:7334",
                "port": "3001"
              }
            ],
            "margin": {
              "numerator": "3",
              "denominator": "100"
            },
            "poolMetadata": {
              "url": "https://mypool.com/metadata.json",
              "hash": "cdb714fd722c24308e5145f8c8b61d307fb2f4e041d9e3ca73663be40dc0049f"
            }
          }
        }
      },
      {
        "operation_identifier": {
          "index": 3
        },
        "type": "stakeDelegation",
        "status": "success",
        "account": {
          "address": "stake_test1uzw3g0wa8f3cvsyyf2k67p6cjqzu4g36s8anlz4lv5jt3fqsvu9xs"
        },
        "metadata": {
          "staking_credential": {
            "hex_bytes": "d10e43ff01d97ea9fa567e9f630dfd2b707ce132cabb81cb6139f16831e29fd8",
            "curve_type": "edwards25519"
          },
          "pool_key_hash": "bd66ac291ac521deaf22141fb0e5e2f0ed3da63159b9f49e1f500acf"
        }
      }
    ]
  },
  "expected_response": {
    "options": {
      "transaction_size": 750,
      "relative_ttl": 1000
    }
  }
}