"use strict";(self.webpackChunkrosetta_docs=self.webpackChunkrosetta_docs||[]).push([[8138],{5537:(e,n,t)=>{t.d(n,{A:()=>k});var a=t(6540),s=t(4164),r=t(5627),i=t(6347),o=t(372),l=t(604),c=t(1861),d=t(8749);function u(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:s}}=e;return{value:n,label:t,attributes:a,default:s}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const s=(0,i.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(r),(0,a.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})}),[r,s])]}function b(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,r=h(e),[i,l]=(0,a.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:r}))),[c,u]=m({queryString:t,groupId:s}),[b,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,r]=(0,d.Dv)(t);return[s,(0,a.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:s}),v=(()=>{const e=c??b;return p({value:e,tabValues:r})?e:null})();(0,o.A)((()=>{v&&l(v)}),[v]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,r]),tabValues:r}}var f=t(9136);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(4848);function x(e){let{className:n,block:t,selectedValue:a,selectValue:i,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),d=e=>{const n=e.currentTarget,t=l.indexOf(n),s=o[t].value;s!==a&&(c(n),i(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},n),children:o.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:d,...r,className:(0,s.A)("tabs__item",v.tabItem,r?.className,{"tabs__item--active":a===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:r}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function j(e){const n=b(e);return(0,g.jsxs)("div",{className:(0,s.A)("tabs-container",v.tabList),children:[(0,g.jsx)(x,{...n,...e}),(0,g.jsx)(y,{...n,...e})]})}function k(e){const n=(0,f.A)();return(0,g.jsx)(j,{...e,children:u(e.children)},String(n))}},6738:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"user-guides/multi-assets","title":"Native Tokens","description":"Native token support in Cardano Rosetta implementation","source":"@site/docs/user-guides/multi-assets.md","sourceDirName":"user-guides","slug":"/user-guides/multi-assets","permalink":"/cardano-rosetta-java/docs/user-guides/multi-assets","draft":false,"unlisted":false,"editUrl":"https://github.com/cardano-foundation/cardano-rosetta-java/tree/main/docs/docs/user-guides/multi-assets.md","tags":[],"version":"current","lastUpdatedBy":"matiwinnetou","lastUpdatedAt":1757071290000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Native Tokens","description":"Native token support in Cardano Rosetta implementation"},"sidebar":"tutorialSidebar","previous":{"title":"User Guides","permalink":"/cardano-rosetta-java/docs/category/user-guides"},"next":{"title":"Staking Operations","permalink":"/cardano-rosetta-java/docs/user-guides/staking"}}');var s=t(4848),r=t(8453),i=t(5537),o=t(9329);const l={sidebar_position:1,title:"Native Tokens",description:"Native token support in Cardano Rosetta implementation"},c="Native Tokens",d={},u=[{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Operations with Native Tokens",id:"operations-with-native-tokens",level:2},{value:"Account Balance Queries",id:"account-balance-queries",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"native-tokens",children:"Native Tokens"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Native tokens on Cardano allow users to create and transact with custom tokens alongside ADA. In the Rosetta API implementation, these tokens are represented in both transaction operations and account balances."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["More information about Native Tokens can be found in the ",(0,s.jsx)(n.a,{href:"https://docs.cardano.org/developer-resources/native-tokens",children:"Cardano Documentation"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"symbol"})," - The Asset Name stored in the Ledger (passed as ASCII string, changed in ",(0,s.jsx)(n.a,{href:"https://github.com/cardano-foundation/cardano-rosetta-java/releases/tag/1.3.2",children:"v1.3.2 released on 2025-09-05"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"policyId"})," - The Policy ID that controls the asset (passed as hex string)"]}),"\n",(0,s.jsx)(n.li,{children:"Both values are required for token operations"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Token Name is not required by Cardano protocol rules. Since Mesh ",(0,s.jsx)(n.a,{href:"https://docs.cdp.coinbase.com/mesh/mesh-api-spec/models/models#currency",children:"symbol"})," is a required field, it should be represented as an empty string ",(0,s.jsx)(n.code,{children:'""'})," when no name is provided."]})}),"\n",(0,s.jsx)(n.h2,{id:"operations-with-native-tokens",children:"Operations with Native Tokens"}),"\n",(0,s.jsx)(n.p,{children:"Native tokens can be included in both input and output operations. The token bundles are associated with each operation as metadata."}),"\n",(0,s.jsx)(n.admonition,{title:"Sign Convention",type:"important",children:(0,s.jsxs)(n.p,{children:["When spending native tokens in ",(0,s.jsx)(n.strong,{children:"input operations"}),", the token values in the ",(0,s.jsx)(n.code,{children:"tokenBundle"})," MUST be ",(0,s.jsx)(n.strong,{children:"negative"}),". This follows the same convention as ADA amounts in inputs. Output operations use positive values."]})}),"\n",(0,s.jsxs)(n.admonition,{title:"Minting and Burning Observations",type:"info",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Rosetta API only supports transferring existing native tokens through the Construction API."})," Minting and burning operations cannot be initiated through Rosetta."]}),(0,s.jsxs)(n.p,{children:["However, when querying blockchain data through endpoints like ",(0,s.jsx)(n.code,{children:"/block/transactions"}),", you may observe minting and burning transactions with these patterns:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Minting"}),": Token appears only in outputs with positive value (no corresponding input)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Burning"}),": Token appears only in inputs with negative value (no corresponding output)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Partial burning"}),": Token in inputs (negative) and outputs (positive remainder). The burned amount is the difference"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transfer"}),": Token in both inputs (negative) and outputs (positive) with net zero change"]}),"\n"]}),(0,s.jsx)(n.p,{children:"The Rosetta representation doesn't explicitly label these as mint/burn operations - this must be inferred from the token flow patterns."})]}),"\n",(0,s.jsxs)(i.A,{children:[(0,s.jsx)(o.A,{value:"input",label:"Input Operation",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "operation_identifier": { "index": 0 },\n  "type": "input",\n  "account": {\n    "address": "addr1vxa5pudxg77g3sdaddecmw8tvc6hmynywn49lltt4fmvn7cpnkcpx"\n  },\n  "amount": {\n    "value": "-90000",\n    "currency": { "symbol": "ADA", "decimals": 6 }\n  },\n  "coin_change": {\n    "coin_identifier": {\n      "identifier": "2f23fd8cca835af21f3ac375bac601f97ead75f2e79143bdf71fe2c4be043e8f:1"\n    },\n    "coin_action": "coin_spent"\n  },\n  "metadata": {\n    "tokenBundle": [\n      {\n        "policyId": "b0d07d45fe9514f80213f4020e5a61241458be626841cde717cb38a7",\n        "tokens": [\n          {\n            "value": "-10000",\n            "currency": { "symbol": "nutcoin", "decimals": 0 }\n          }\n        ]\n      }\n    ]\n  }\n}\n'})})}),(0,s.jsx)(o.A,{value:"output",label:"Output Operation",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "operation_identifier": { "index": 1 },\n  "type": "output",\n  "account": {\n    "address": "addr1vxa5pudxg77g3sdaddecmw8tvc6hmynywn49lltt4fmvn7cpnkcpx"\n  },\n  "amount": {\n    "value": "10000",\n    "currency": { "symbol": "ADA", "decimals": 6 }\n  },\n  "metadata": {\n    "tokenBundle": [\n      {\n        "policyId": "b0d07d45fe9514f80213f4020e5a61241458be626841cde717cb38a7",\n        "tokens": [\n          {\n            "value": "10000",\n            "currency": { "symbol": "nutcoin", "decimals": 0 }\n          }\n        ]\n      }\n    ]\n  }\n}\n'})})})]}),"\n",(0,s.jsx)(n.h2,{id:"account-balance-queries",children:"Account Balance Queries"}),"\n",(0,s.jsxs)(n.p,{children:["When querying account balances using ",(0,s.jsx)(n.code,{children:"/account/balance"}),", the response will include both ADA and any native tokens owned by the address."]}),"\n",(0,s.jsxs)(n.admonition,{title:"Note on Stake Addresses",type:"info",children:[(0,s.jsxs)(n.p,{children:["When the ",(0,s.jsx)(n.code,{children:"/account/balance"})," endpoint is queried with a stake address (also known as a reward address), the response will include the available rewards that can be withdrawn from the stake address."]}),(0,s.jsx)(n.p,{children:"This means the API provides a consolidated view of both spendable funds (from payment addresses) and claimable rewards when a stake address is used in the query."})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "balances": [\n    {\n      "value": "71103107",\n      "currency": {\n        "symbol": "ADA",\n        "decimals": 6\n      }\n    },\n    {\n      "value": "10000",\n      "currency": {\n        "symbol": "nutcoin",\n        "decimals": 0,\n        "metadata": {\n          "policyId": "b0d07d45fe9514f80213f4020e5a61241458be626841cde717cb38a7"\n        }\n      }\n    }\n  ],\n  "coins": [\n    {\n      "coin_identifier": {\n        "identifier": "414afe46bc6b7e52739dd5dd76eef30812168912a34bb31676b9872881aeacd2:0"\n      },\n      "amount": {\n        "value": "71103107",\n        "currency": {\n          "symbol": "ADA",\n          "decimals": 6\n        }\n      },\n      "metadata": {\n        "414afe46bc6b7e52739dd5dd76eef30812168912a34bb31676b9872881aeacd2:0": [\n          {\n            "policyId": "b0d07d45fe9514f80213f4020e5a61241458be626841cde717cb38a7",\n            "tokens": [\n              {\n                "value": "10000",\n                "currency": {\n                  "symbol": "nutcoin",\n                  "decimals": 0\n                }\n              }\n            ]\n          }\n        ]\n      }\n    }\n  ]\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var a=t(6540);const s={},r=a.createContext(s);function i(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:n},e.children)}},9329:(e,n,t)=>{t.d(n,{A:()=>i});t(6540);var a=t(4164);const s={tabItem:"tabItem_Ymn6"};var r=t(4848);function i(e){let{children:n,hidden:t,className:i}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(s.tabItem,i),hidden:t,children:n})}}}]);