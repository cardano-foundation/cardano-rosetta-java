"use strict";(self.webpackChunkrosetta_docs=self.webpackChunkrosetta_docs||[]).push([[2916],{1198:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"advanced-configuration/pruning","title":"Pruning UTXOs","description":"Optimizing disk usage with pruning","source":"@site/docs/advanced-configuration/pruning.md","sourceDirName":"advanced-configuration","slug":"/advanced-configuration/pruning","permalink":"/cardano-rosetta-java/docs/advanced-configuration/pruning","draft":false,"unlisted":false,"editUrl":"https://github.com/cardano-foundation/cardano-rosetta-java/tree/main/docs/docs/advanced-configuration/pruning.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Pruning UTXOs","description":"Optimizing disk usage with pruning"},"sidebar":"tutorialSidebar","previous":{"title":"Database Tuning","permalink":"/cardano-rosetta-java/docs/advanced-configuration/db-tuning"},"next":{"title":"Getting Started with H2","permalink":"/cardano-rosetta-java/docs/advanced-configuration/h2-database"}}');var t=i(4848),s=i(8453);const o={sidebar_position:1,title:"Pruning UTXOs",description:"Optimizing disk usage with pruning"},a="Pruning UTXOs",d={},c=[{value:"What is Pruning?",id:"what-is-pruning",level:2},{value:"When to Enable Pruning",id:"when-to-enable-pruning",level:2},{value:"When to Avoid Pruning",id:"when-to-avoid-pruning",level:2},{value:"Example Configuration",id:"example-configuration",level:2},{value:"Further Reading",id:"further-reading",level:2}];function l(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"pruning-utxos",children:"Pruning UTXOs"})}),"\n",(0,t.jsxs)(e.p,{children:["This guide explains how to optimize disk usage in ",(0,t.jsx)(e.strong,{children:"cardano-rosetta-java"})," through pruning."]}),"\n",(0,t.jsx)(e.h2,{id:"what-is-pruning",children:"What is Pruning?"}),"\n",(0,t.jsx)(e.p,{children:"Pruning removes spent (consumed) UTXOs from local storage, keeping only unspent UTXOs. This can reduce on-disk storage from ~1TB down to ~400GB, but discards historical transaction data."}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Only unspent outputs are preserved."}),"\n",(0,t.jsx)(e.li,{children:"You can still validate the chain's current state (and spend tokens), since active UTXOs remain."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Enable Pruning"}),": Set ",(0,t.jsx)(e.code,{children:"PRUNING_ENABLED=true"})," in your environment (e.g., in ",(0,t.jsx)(e.code,{children:".env.dockerfile"})," or ",(0,t.jsx)(e.code,{children:".env.docker-compose"}),")."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Disable Pruning"})," (default): Set ",(0,t.jsx)(e.code,{children:"PRUNING_ENABLED=false"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"when-to-enable-pruning",children:"When to Enable Pruning"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Low Disk Environments"}),": If you need to minimize disk usage and only require UTXO data for current balances."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Exploratory / Dev Environments"}),": If historical queries are not critical."]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"when-to-avoid-pruning",children:"When to Avoid Pruning"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Full Historical Data Requirements"}),": If you need the complete transaction history\u2014whether for exchange operations, audit trails, or compliance mandates\u2014do not enable pruning. Pruning discards spent UTXOs, which removes older transaction data and prevents certain types of historical lookups or reporting."]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"example-configuration",children:"Example Configuration"}),"\n",(0,t.jsxs)(e.p,{children:["Below is a snippet of how you might configure ",(0,t.jsx)(e.code,{children:".env.dockerfile"})," or ",(0,t.jsx)(e.code,{children:".env.docker-compose"})," for pruning:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# --- Pruning Toggle ---\nPRUNING_ENABLED=true\n# Enables pruning to reduce disk space requirements\n"})}),"\n",(0,t.jsx)(e.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.cdp.coinbase.com/mesh/docs/api-reference/",children:"Rosetta API Reference"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://github.com/bloxbean/yaci-store",children:"Yaci-Store Repository"})}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>a});var r=i(6540);const t={},s=r.createContext(t);function o(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);