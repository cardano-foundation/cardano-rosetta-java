"use strict";(self.webpackChunkrosetta_docs=self.webpackChunkrosetta_docs||[]).push([[7667],{6404:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"advanced-configuration/token-metadata","title":"Enabling Token Metadata","description":"Configure token registry integration for native asset metadata","source":"@site/docs/advanced-configuration/token-metadata.md","sourceDirName":"advanced-configuration","slug":"/advanced-configuration/token-metadata","permalink":"/cardano-rosetta-java/docs/advanced-configuration/token-metadata","draft":false,"unlisted":false,"editUrl":"https://github.com/cardano-foundation/cardano-rosetta-java/tree/main/docs/docs/advanced-configuration/token-metadata.md","tags":[],"version":"current","lastUpdatedBy":"Kartiiyer12","lastUpdatedAt":1760605507000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Enabling Token Metadata","description":"Configure token registry integration for native asset metadata"},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started with H2","permalink":"/cardano-rosetta-java/docs/advanced-configuration/h2-database"},"next":{"title":"Handling Unparsed Blocks","permalink":"/cardano-rosetta-java/docs/advanced-configuration/unparsed_blocks"}}');var s=t(4848),i=t(8453);const r={sidebar_position:4,title:"Enabling Token Metadata",description:"Configure token registry integration for native asset metadata"},o="Enabling Token Metadata",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Why Exchanges Need This",id:"why-exchanges-need-this",level:3},{value:"What This Integration Provides",id:"what-this-integration-provides",level:3},{value:"Metadata Fields Added",id:"metadata-fields-added",level:4},{value:"Before and After Examples",id:"before-and-after-examples",level:4},{value:"Installation Steps",id:"installation-steps",level:2},{value:"Step 1: Clone the Token Metadata Registry",id:"step-1-clone-the-token-metadata-registry",level:3},{value:"Step 2: Configure Ports",id:"step-2-configure-ports",level:3},{value:"Step 3: Start the Token Registry",id:"step-3-start-the-token-registry",level:3},{value:"Step 4: Verify Registry Health",id:"step-4-verify-registry-health",level:3},{value:"Step 5: Get the Gateway IP Address",id:"step-5-get-the-gateway-ip-address",level:3},{value:"Step 6: Configure Rosetta API",id:"step-6-configure-rosetta-api",level:3},{value:"Step 7: Restart Rosetta API",id:"step-7-restart-rosetta-api",level:3},{value:"Step 8: Verify Integration",id:"step-8-verify-integration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Rosetta API Not Fetching Metadata",id:"rosetta-api-not-fetching-metadata",level:3},{value:"Slow API Response Times",id:"slow-api-response-times",level:3},{value:"Further Reading",id:"further-reading",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"enabling-token-metadata",children:"Enabling Token Metadata"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Cardano native tokens (also called multi-assets) can have associated metadata that provides human-readable information such as token names, tickers, descriptions, and logos. This metadata helps exchanges display accurate token information to users and improves the overall user experience when working with Cardano native assets."}),"\n",(0,s.jsxs)(n.p,{children:["Cardano Rosetta Java supports integration with the ",(0,s.jsx)(n.strong,{children:"Cardano Token Metadata Registry"}),", which provides a unified API for retrieving token metadata from two complementary standards:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CIP-26"}),": Off-chain metadata registry for static token information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CIP-68"}),": On-chain metadata standard for dynamic token information"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"why-exchanges-need-this",children:"Why Exchanges Need This"}),"\n",(0,s.jsx)(n.p,{children:"Without token metadata integration, native assets in API responses appear only as hex-encoded policy IDs and asset names. With the token registry enabled:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Experience"}),": Display readable token names instead of hex strings"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accurate Information"}),": Show correct decimals, tickers, and descriptions for tokens"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Trust"}),": Present verified token metadata from the official Cardano registry"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Compliance"}),": Provide proper token identification for regulatory requirements"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"what-this-integration-provides",children:"What This Integration Provides"}),"\n",(0,s.jsxs)(n.p,{children:["When enabled, the following endpoints will include enriched metadata for native tokens in their ",(0,s.jsx)(n.code,{children:"currency"})," objects:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/block"})," - Block retrieval with transaction details"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/block/transaction"})," - Individual transaction details"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/account/balance"})," - Account balance information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/account/coins"})," - UTXO details for accounts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/search/transactions"})," - Transaction search results"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"metadata-fields-added",children:"Metadata Fields Added"}),"\n",(0,s.jsxs)(n.p,{children:["The integration adds the following optional fields to the ",(0,s.jsx)(n.code,{children:"currency.metadata"})," object:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"subject"})}),(0,s.jsx)(n.td,{children:"Base16-encoded combination of policyId + assetName"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"5dac8536...4e4d4b52"'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"name"})}),(0,s.jsx)(n.td,{children:"Human-readable token name"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"MKT coin"'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"description"})}),(0,s.jsx)(n.td,{children:"Token description"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"Utility Token for..."'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ticker"})}),(0,s.jsx)(n.td,{children:"Token ticker/symbol"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"MKT"'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"url"})}),(0,s.jsx)(n.td,{children:"Project website URL"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'"https://example.com"'})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"decimals"})}),(0,s.jsx)(n.td,{children:"Number of decimal places"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"6"})})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"before-and-after-examples",children:"Before and After Examples"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Before"})," (without token metadata):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "currency": {\n    "symbol": "567946695f43726564656e7469616c",\n    "decimals": 0,\n    "metadata": {\n      "policyId": "4d07e0ceae00e6c53598cea00a53c54a94c6b6aa071482244cc0adb5"\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"After"})," (with token metadata enabled):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "currency": {\n    "symbol": "567946695f43726564656e7469616c",\n    "decimals": 0,\n    "metadata": {\n      "policyId": "4d07e0ceae00e6c53598cea00a53c54a94c6b6aa071482244cc0adb5",\n      "subject": "4d07e0ceae00e6c53598cea00a53c54a94c6b6aa071482244cc0adb5567946695f43726564656e7469616c",\n      "name": "MKT coin",\n      "description": "MKT description of token coin",\n      "ticker": "MKT",\n      "url": "https://example.com"\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.admonition,{title:"Optional Metadata",type:"note",children:(0,s.jsxs)(n.p,{children:["All metadata fields are optional. If a token has not been registered in the Cardano Token Registry, only the basic ",(0,s.jsx)(n.code,{children:"policyId"})," will be present. Missing metadata does not indicate an error - many tokens simply don't have registered metadata."]})}),"\n",(0,s.jsx)(n.h2,{id:"installation-steps",children:"Installation Steps"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-clone-the-token-metadata-registry",children:"Step 1: Clone the Token Metadata Registry"}),"\n",(0,s.jsx)(n.p,{children:"Clone the official Cardano Foundation token metadata registry repository:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/cardano-foundation/cf-token-metadata-registry.git\ncd cf-token-metadata-registry\n"})}),"\n",(0,s.jsx)(n.p,{children:"Check out the latest release tag:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# List available tags\ngit tag -l\n\n# Checkout the latest stable release (replace with actual latest version)\ngit checkout tags/v1.x.x  # Use the latest version from the tag list\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-2-configure-ports",children:"Step 2: Configure Ports"}),"\n",(0,s.jsx)(n.p,{children:"Since Cardano Rosetta Java uses PostgreSQL on port 5432, configure the token registry to use different ports to avoid conflicts."}),"\n",(0,s.jsxs)(n.p,{children:["Edit the ",(0,s.jsx)(n.code,{children:".env"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Open the .env file\nnano .env  # or use your preferred editor\n"})}),"\n",(0,s.jsx)(n.p,{children:"Modify the port configuration:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Database Port - Change from default 5432 to avoid conflict\n# This line:\n# DB_PORT='5432'\n\n# To:\nDB_PORT='5434'\n\n# Ensure DB_URL uses the internal port (5432 inside the container):\nDB_URL=jdbc:postgresql://db:5432/cf_token_metadata_registry\n\n# API Port - Change if port 8080 is already in use\n# Default:\n# API_LOCAL_BIND_PORT='8080'\n\n# If you need a different port (e.g., if 8080 is in use):\nAPI_LOCAL_BIND_PORT='8088'\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-3-start-the-token-registry",children:"Step 3: Start the Token Registry"}),"\n",(0,s.jsx)(n.p,{children:"Start the token metadata registry service using Docker Compose:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose up -d\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Start a PostgreSQL database container for token metadata"}),"\n",(0,s.jsx)(n.li,{children:"Start the token registry API container"}),"\n",(0,s.jsx)(n.li,{children:"Begin syncing token metadata from the Cardano blockchain."}),"\n",(0,s.jsx)(n.li,{children:"Synchronize the official token registry from GitHub"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Initial Sync Time",type:"tip",children:(0,s.jsxs)(n.p,{children:["The first sync can take 10-12 hours as the service indexes on-chain metadata and downloads the GitHub registry. Monitor progress with ",(0,s.jsx)(n.code,{children:"docker compose logs -f api"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"step-4-verify-registry-health",children:"Step 4: Verify Registry Health"}),"\n",(0,s.jsx)(n.p,{children:"Wait for the token registry to complete its initial sync and become healthy:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Check service health (use your configured API_LOCAL_BIND_PORT)\ncurl http://localhost:8080/health\n"})}),"\n",(0,s.jsx)(n.p,{children:"Expected response when ready:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{"synced":true,"syncStatus":"Sync done"}\n'})}),"\n",(0,s.jsx)(n.p,{children:"You can also check the logs to monitor sync progress:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# View logs\ndocker compose logs -f api\n\n# The service is ready when you see:\n# "Started TokenMetadataRegistryApplication"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"step-5-get-the-gateway-ip-address",children:"Step 5: Get the Gateway IP Address"}),"\n",(0,s.jsx)(n.p,{children:"To allow Cardano Rosetta Java to communicate with the token registry, you need the Docker gateway IP address."}),"\n",(0,s.jsx)(n.p,{children:"Run this command to get the gateway IP for the token registry API container:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker inspect cf-token-metadata-registry-api-1 --format '{{range .NetworkSettings.Networks}}{{.Gateway}} {{end}}'\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will output something like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"172.20.0.1\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-6-configure-rosetta-api",children:"Step 6: Configure Rosetta API"}),"\n",(0,s.jsxs)(n.p,{children:["Navigate to your Cardano Rosetta Java directory and edit the ",(0,s.jsx)(n.code,{children:".env.docker-compose"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd /path/to/cardano-rosetta-java\nnano .env.docker-compose\n"})}),"\n",(0,s.jsx)(n.p,{children:"Add or update the following environment variables:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Enable token registry integration\nTOKEN_REGISTRY_ENABLED=true\n\n# Set the base URL using the gateway IP from Step 5\n# Replace <gateway-ip> with the actual IP from the previous step\nTOKEN_REGISTRY_BASE_URL=http://<gateway-ip>:8080/api\n\n# Optional: Configure cache TTL (in hours)\nTOKEN_REGISTRY_CACHE_TTL_HOURS=12\n\n# Optional: Disable logo fetching to reduce response size\nTOKEN_REGISTRY_LOGO_FETCH=false\n\n# Optional: Set request timeout (in seconds)\nTOKEN_REGISTRY_REQUEST_TIMEOUT_SECONDS=2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Example configuration:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"TOKEN_REGISTRY_ENABLED=true\nTOKEN_REGISTRY_BASE_URL=http://172.20.0.1:8080/api\nTOKEN_REGISTRY_CACHE_TTL_HOURS=12\nTOKEN_REGISTRY_LOGO_FETCH=false\nTOKEN_REGISTRY_REQUEST_TIMEOUT_SECONDS=2\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-7-restart-rosetta-api",children:"Step 7: Restart Rosetta API"}),"\n",(0,s.jsx)(n.p,{children:"Apply the configuration changes by restarting the Rosetta API service:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Stop the API\ndocker compose --env-file .env.docker-compose \\\n  --env-file .env.docker-compose-profile-mid-level \\\n  -f docker-compose.yaml \\\n  down api\n\n# Start the API with new configuration\ndocker compose --env-file .env.docker-compose \\\n  --env-file .env.docker-compose-profile-mid-level \\\n  -f docker-compose.yaml \\\n  up -d api\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"Hardware Profiles",type:"tip",children:(0,s.jsxs)(n.p,{children:["The command above uses the ",(0,s.jsx)(n.code,{children:"mid-level"})," profile. Adjust the profile file (",(0,s.jsx)(n.code,{children:"entry-level"}),", ",(0,s.jsx)(n.code,{children:"mid-level"}),", or ",(0,s.jsx)(n.code,{children:"advanced-level"}),") based on your deployment configuration. See ",(0,s.jsx)(n.a,{href:"../install-and-deploy/hardware-profiles",children:"Hardware Profiles"})," for details."]})}),"\n",(0,s.jsx)(n.h3,{id:"step-8-verify-integration",children:"Step 8: Verify Integration"}),"\n",(0,s.jsx)(n.p,{children:"Test that the token metadata integration is working correctly:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Check API startup logs\ndocker logs cardano-rosetta-java-api-1 | grep TokenRegistry\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should see a line like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"TokenRegistryHttpGatewayImpl initialized with enabled: true, batchEndpointUrl: http://172.20.0.1:8080/api/v2/subjects/query\n"})}),"\n",(0,s.jsx)(n.p,{children:"To verify metadata is being returned in API responses, query a block containing native tokens:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:8082/block \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "network_identifier": {\n      "blockchain": "cardano",\n      "network": "mainnet"\n    },\n    "block_identifier": {\n      "index": 10000259\n    }\n  }\' | jq \'.block.transactions[].operations[] | select(.metadata.tokenBundle) | .metadata.tokenBundle[].tokens[0].currency.metadata\'\n'})}),"\n",(0,s.jsx)(n.p,{children:"You should see metadata fields populated with token information for the tokens:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "policyId": "5dac8536653edc12f6f5e1045d8164b9f59998d3bdc300fc92843489",\n  "subject": "5dac8536653edc12f6f5e1045d8164b9f59998d3bdc300fc928434894e4d4b52",\n  "name": "NMKR",\n  "description": "Utility Token for Tokenization & NFT Infrastructure by NMKR",\n  "ticker": "NMKR",\n  "url": "https://nmkr.io"\n}\n'})}),"\n",(0,s.jsx)(n.admonition,{title:"Testing Multiple Endpoints",type:"tip",children:(0,s.jsxs)(n.p,{children:["You can test token metadata on other endpoints like ",(0,s.jsx)(n.code,{children:"/account/balance"}),", ",(0,s.jsx)(n.code,{children:"/account/coins"}),", and ",(0,s.jsx)(n.code,{children:"/search/transactions"}),". All endpoints that return ",(0,s.jsx)(n.code,{children:"currency"})," objects will include the enriched metadata."]})}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"rosetta-api-not-fetching-metadata",children:"Rosetta API Not Fetching Metadata"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom"}),": API responses don't include token metadata"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Verify registry is healthy"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8080/health\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Check API logs for connection errors"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'docker logs cardano-rosetta-java-api-1 | grep -i "token registry"\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Verify gateway IP is correct"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Re-check the gateway IP\ndocker inspect cf-token-metadata-registry-api-1 \\\n  --format '{{range .NetworkSettings.Networks}}{{.Gateway}} {{end}}'\n\n# Ensure it matches TOKEN_REGISTRY_BASE_URL in .env.docker-compose\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Test registry connectivity from API container"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker exec cardano-rosetta-java-api-1 \\\n  curl -s http://<gateway-ip>:8080/health\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"slow-api-response-times",children:"Slow API Response Times"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Symptom"}),": API requests are slower after enabling token metadata"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Verify Docker connectivity"})," between Rosetta API and token registry:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Test connectivity from API container to registry\ndocker exec cardano-rosetta-java-api-1 \\\n  curl -s -w "\\nTime: %{time_total}s\\n" \\\n  http://<gateway-ip>:8080/health\n\n# Should respond quickly (< 1 second)\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Increase cache TTL"})," to reduce registry API calls:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"TOKEN_REGISTRY_CACHE_TTL_HOURS=24\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Disable logo fetching"})," if not needed:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"TOKEN_REGISTRY_LOGO_FETCH=false\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://developers.cardano.org/docs/native-tokens/token-registry/cardano-token-registry-cip26",children:"Cardano Token Registry CIP-26"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://developers.cardano.org/docs/native-tokens/token-registry/cardano-token-registry-cip68",children:"Cardano Token Registry CIP-68"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://developers.cardano.org/docs/native-tokens/token-registry/cardano-token-registry-server",children:"Token Registry Server Documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var a=t(6540);const s={},i=a.createContext(s);function r(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);