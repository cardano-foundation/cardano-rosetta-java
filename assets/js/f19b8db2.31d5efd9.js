"use strict";(self.webpackChunkrosetta_docs=self.webpackChunkrosetta_docs||[]).push([[13],{6131:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"legacy-docs/multi-assets-support","title":"Multi-Assets Support","description":"Documentation for multi-asset support in the legacy Cardano Rosetta implementation","source":"@site/docs/legacy-docs/multi-assets-support.md","sourceDirName":"legacy-docs","slug":"/legacy-docs/multi-assets-support","permalink":"/cardano-rosetta-java/docs/legacy-docs/multi-assets-support","draft":false,"unlisted":false,"editUrl":"https://github.com/cardano-foundation/cardano-rosetta-java/tree/main/docs/docs/legacy-docs/multi-assets-support.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Multi-Assets Support","description":"Documentation for multi-asset support in the legacy Cardano Rosetta implementation"},"sidebar":"tutorialSidebar","previous":{"title":"QA","permalink":"/cardano-rosetta-java/docs/legacy-docs/QA"},"next":{"title":"Pool Operations Support","permalink":"/cardano-rosetta-java/docs/legacy-docs/pool-operations-support"}}');var a=t(4848),o=t(8453);const c={sidebar_position:3,title:"Multi-Assets Support",description:"Documentation for multi-asset support in the legacy Cardano Rosetta implementation"},i="Multi Assets support",r={},d=[{value:"Input operation",id:"input-operation",level:3},{value:"Output operation",id:"output-operation",level:3},{value:"Account balance query",id:"account-balance-query",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"multi-assets-support",children:"Multi Assets support"})}),"\n",(0,a.jsx)(n.h1,{id:"operations-with-multi-assets",children:"Operations with multi assets"}),"\n",(0,a.jsx)(n.p,{children:"Multi Assets are allowed for inputs and outputs operations."}),"\n",(0,a.jsxs)(n.p,{children:["For operations sent in the request of the ",(0,a.jsx)(n.code,{children:"/construction/preprocess"})," and ",(0,a.jsx)(n.code,{children:"/construction/payloads"})," endpoints will have the list of Token Bundles associated to each operation as metadata."]}),"\n",(0,a.jsxs)(n.p,{children:["More information about Multi Assets structure can be found ",(0,a.jsx)(n.a,{href:"https://developers.cardano.org/en/development-environments/native-tokens/multi-asset-tokens-explainer/",children:"here"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"symbol"})," is the Asset Name stored in the Ledger. Both ",(0,a.jsx)(n.code,{children:"symbol"})," and ",(0,a.jsx)(n.code,{children:"policyId"})," will be passed as hex string as follows:"]}),"\n",(0,a.jsx)(n.h3,{id:"input-operation",children:"Input operation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "operation_identifier": { "index": 0, "network_index": 0 },\n  "type": "input",\n  "status": "success",\n  "account": {\n    "address": "addr1vxa5pudxg77g3sdaddecmw8tvc6hmynywn49lltt4fmvn7cpnkcpx"\n  },\n  "amount": {\n    "value": "-90000",\n    "currency": { "symbol": "ADA", "decimals": 6 }\n  },\n  "coin_change": {\n    "coin_identifier": {\n      "identifier": "2f23fd8cca835af21f3ac375bac601f97ead75f2e79143bdf71fe2c4be043e8f:1"\n    },\n    "coin_action": "coin_spent"\n  },\n  "metadata": {\n    "tokenBundle": [\n      {\n        "policyId": "b0d07d45fe9514f80213f4020e5a61241458be626841cde717cb38a7",\n        "tokens": [\n          {\n            "value": "10000",\n            "currency": { "symbol": "6e7574636f696e", "decimals": 0 }\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"output-operation",children:"Output operation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "operation_identifier": { "index": 1 },\n  "related_operations": [{ "index": 0 }],\n  "type": "output",\n  "status": "success",\n  "account": {\n    "address": "addr1vxa5pudxg77g3sdaddecmw8tvc6hmynywn49lltt4fmvn7cpnkcpx"\n  },\n  "amount": {\n    "value": "10000",\n    "currency": { "symbol": "ADA", "decimals": 6 }\n  },\n  "metadata": {\n    "tokenBundle": [\n      {\n        "policyId": "b0d07d45fe9514f80213f4020e5a61241458be626841cde717cb38a7",\n        "tokens": [\n          {\n            "value": "10000",\n            "currency": { "symbol": "6e7574636f696e", "decimals": 0 }\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"account-balance-query",children:"Account balance query"}),"\n",(0,a.jsxs)(n.p,{children:["The response from ",(0,a.jsx)(n.code,{children:"/account/balance"})," will have the list of Token Bundles along with ADA balance."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'"balances": [\n    {\n      "value": "71103107",\n      "currency": {\n        "symbol": "ADA",\n        "decimals": 6\n      }\n    },\n    {\n      "value": "9648589196",\n      "currency": {\n        "symbol": "4141504c",\n        "decimals": 0,\n        "metadata": {\n          "policyId": "12e65fa3585d80cba39dcf4f59363bb68b77f9d3c0784734427b1517"\n        }\n      }\n    },\n    {\n      "value": "9648589196",\n      "currency": {\n        "symbol": "4150504c45",\n        "decimals": 0,\n        "metadata": {\n          "policyId": "12e65fa3585d80cba39dcf4f59363bb68b77f9d3c0784734427b1517"\n        }\n      }\n    }\n  ],\n"coins": [\n  {\n    "coin_identifier": {\n      "identifier": "414afe46bc6b7e52739dd5dd76eef30812168912a34bb31676b9872881aeacd2:0"\n    },\n    "amount": {\n      "value": "71103107",\n      "currency": {\n        "symbol": "ADA",\n        "decimals": 6\n      }\n    },\n    "metadata": {\n      "414afe46bc6b7e52739dd5dd76eef30812168912a34bb31676b9872881aeacd2:0": [\n        {\n          "policyId": "12e65fa3585d80cba39dcf4f59363bb68b77f9d3c0784734427b1517",\n          "tokens": [\n            {\n              "value": "9648589196",\n              "currency": {\n                "symbol": "4141504c",\n                "decimals": 0,\n                "metadata": {\n                  "policyId": "12e65fa3585d80cba39dcf4f59363bb68b77f9d3c0784734427b1517"\n                }\n              }\n            },\n            {\n              "value": "9648589196",\n              "currency": {\n                "symbol": "4150504c45",\n                "decimals": 0,\n                "metadata": {\n                  "policyId": "12e65fa3585d80cba39dcf4f59363bb68b77f9d3c0784734427b1517"\n                }\n              }\n            }\n          ]\n       }\n     ]\n    }\n  }\n]\n'})}),"\n",(0,a.jsxs)(n.p,{children:["It's important to mention that Token Name is not required by Cardano protocol rules. As Rosetta ",(0,a.jsx)(n.a,{href:"https://www.rosetta-api.org/docs/1.4.4/models/Currency.html",children:"symbol"})," is a required field, it will be represented as ",(0,a.jsx)(n.code,{children:"\\\\x"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(6540);const a={},o=s.createContext(a);function c(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);