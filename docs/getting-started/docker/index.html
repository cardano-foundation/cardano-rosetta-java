<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting-started/docker" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Getting Started with Docker | Cardano Rosetta Java</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cardano-foundation.github.io/cardano-rosetta-java/img/cardano-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://cardano-foundation.github.io/cardano-rosetta-java/img/cardano-social-card.jpg"><meta data-rh="true" property="og:url" content="https://cardano-foundation.github.io/cardano-rosetta-java/docs/getting-started/docker"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Getting Started with Docker | Cardano Rosetta Java"><meta data-rh="true" name="description" content="Guide to deploying Cardano Rosetta Java using Docker"><meta data-rh="true" property="og:description" content="Guide to deploying Cardano Rosetta Java using Docker"><link data-rh="true" rel="icon" href="/cardano-rosetta-java/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cardano-foundation.github.io/cardano-rosetta-java/docs/getting-started/docker"><link data-rh="true" rel="alternate" href="https://cardano-foundation.github.io/cardano-rosetta-java/docs/getting-started/docker" hreflang="en"><link data-rh="true" rel="alternate" href="https://cardano-foundation.github.io/cardano-rosetta-java/docs/getting-started/docker" hreflang="x-default"><link rel="stylesheet" href="/cardano-rosetta-java/assets/css/styles.e973a1ec.css">
<script src="/cardano-rosetta-java/assets/js/runtime~main.1a5a480b.js" defer="defer"></script>
<script src="/cardano-rosetta-java/assets/js/main.a8fe6068.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/cardano-rosetta-java/img/cardano-starburst-blue.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cardano-rosetta-java/"><div class="navbar__logo"><img src="/cardano-rosetta-java/img/cardano-starburst-blue.svg" alt="Cardano Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cardano-rosetta-java/img/cardano-starburst-blue.svg" alt="Cardano Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Cardano Rosetta Java</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cardano-rosetta-java/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/cardano-rosetta-java/api">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cardano-foundation/cardano-rosetta-java" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cardano-rosetta-java/docs/intro">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cardano-rosetta-java/docs/category/architecture">Architecture</a><button aria-label="Expand sidebar category &#x27;Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cardano-rosetta-java/docs/category/cardano-specific-api-additions">Cardano Specific API Additions</a><button aria-label="Expand sidebar category &#x27;Cardano Specific API Additions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/cardano-rosetta-java/docs/category/getting-started">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cardano-rosetta-java/docs/getting-started/docker">Getting Started with Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-rosetta-java/docs/getting-started/h2">Getting Started with H2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-rosetta-java/docs/getting-started/environment-variables">Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-rosetta-java/docs/getting-started/install-cardano-node">Install Cardano Node</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cardano-rosetta-java/docs/category/advanced-configuration-and-performance">Advanced Configuration and Performance</a><button aria-label="Expand sidebar category &#x27;Advanced Configuration and Performance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cardano-rosetta-java/docs/category/contributing">Contributing</a><button aria-label="Expand sidebar category &#x27;Contributing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cardano-rosetta-java/docs/category/development">Development</a><button aria-label="Expand sidebar category &#x27;Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cardano-rosetta-java/docs/category/legacy-documentation">Legacy Documentation</a><button aria-label="Expand sidebar category &#x27;Legacy Documentation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cardano-rosetta-java/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cardano-rosetta-java/docs/category/getting-started"><span itemprop="name">Getting Started</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Getting Started with Docker</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Run with Docker</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>Docker</li>
<li>Docker Compose</li>
<li>Java 21</li>
<li>For integration tests: Node 14+</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-prerequisites">Node Prerequisites<a href="#node-prerequisites" class="hash-link" aria-label="Direct link to Node Prerequisites" title="Direct link to Node Prerequisites">​</a></h3>
<p>It is recommend to reach the Tip with the node before starting to sync to avoid instabilities between the connection of the node and the indexer.
To speed the process up you can rely on snapshots which can be obtained here: <a href="https://csnapshots.io/" target="_blank" rel="noopener noreferrer">Cardano Blockchain Snapshots</a></p>
<p>Known instabilities are:</p>
<ul>
<li>connection losses between yaci-store and the cardano node - Can be fixed by running <code>docker restart yaci-indexer</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-run-with-docker-compose">How to run with Docker Compose<a href="#how-to-run-with-docker-compose" class="hash-link" aria-label="Direct link to How to run with Docker Compose" title="Direct link to How to run with Docker Compose">​</a></h2>
<ul>
<li>Clone the repository</li>
<li>For local environment:<!-- -->
<ul>
<li>Copy <code>.env.docker-compose</code> to <code>.env</code></li>
<li>Fill the <code>.env</code> file with your values (explain below) or use the provided for docker-compose setup</li>
<li>Run <code>docker compose -f docker-compose.yaml up --build</code> to start rosetta api service including yaci-store and a cardano node</li>
<li>Using the provided env file <code>docker-compose --env-file .env.docker-compose -f docker-compose.yaml up --build</code></li>
</ul>
</li>
</ul>
<ul>
<li>Note: the first time you run the command, it will take a little bit of your time to build the cardano-node, and next time it will be cached when run. So please be patient.</li>
</ul>
<p>If you want to sync it by yourself you can start the node alone by running (.env file used from next chapter):</p>
<p><code>docker-compose --env-file .env.docker-compose -f docker-compose.yaml up cardano-node</code></p>
<p>As soon as the node reached the tip you can start the rest by running:</p>
<p><code>docker-compose --env-file .env.docker-compose -f docker-compose.yaml up</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-run-integration-tests">How to run integration tests<a href="#how-to-run-integration-tests" class="hash-link" aria-label="Direct link to How to run integration tests" title="Direct link to How to run integration tests">​</a></h2>
<ul>
<li>Run <code>docker compose --env-file .env.IntegrationTest -f docker-integration-test-environment.yaml up --build -d --wait</code></li>
<li>Using CLI<!-- -->
<ul>
<li>Install newman <code>npm install -g newman</code> (Node version 14+ needed)</li>
<li>Run <code>newman run ./postmanTests/rosetta-java.postman_collection.json -e ./postmanTests/Rosetta-java-env.postman_environment.json -r cli</code></li>
</ul>
</li>
<li>Using Postman<!-- -->
<ul>
<li>Install <a href="https://www.postman.com" target="_blank" rel="noopener noreferrer">Postman</a></li>
<li>Import the collection <code>./postmanTests/rosetta-java.postman_collection.json</code></li>
<li>Import the environment <code>./postmanTests/Rosetta-java-env.postman_environment.json</code></li>
<li>Run the collection</li>
</ul>
</li>
</ul>
<h1>Build standalone Docker Container</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Dockerfile contains cardano-node, Postgres and Cardano Rosetta API Java implementation</p>
<p>The Cardano-node, api and yaci indexer are compiled from source while the build process.
Postgres is installed from the official repository.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="0-configuration-of-the-docker-image">0. Configuration of the Docker Image<a href="#0-configuration-of-the-docker-image" class="hash-link" aria-label="Direct link to 0. Configuration of the Docker Image" title="Direct link to 0. Configuration of the Docker Image">​</a></h3>
<p>We are using an environment file for alle configuration possibilities. These can be found at <code>./docker/.env.dockerfile</code>.
Within this file all relevant variables are defined e.g. which network to use.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-how-to-build-the-docker-image-from-source">1. How to build the Docker Image from Source<a href="#1-how-to-build-the-docker-image-from-source" class="hash-link" aria-label="Direct link to 1. How to build the Docker Image from Source" title="Direct link to 1. How to build the Docker Image from Source">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker build -t {image_name} -f ./docker/Dockerfile .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The build can take up to 1.5 hours. This dockerfile takes care takes care of building the node, indexer and api from source.
You can specify Cabal, GHC, Cardano node, and Postgres versions when building an image.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker build -t {image_name} --build-arg PG_VERSION=14 -f ./docker/Dockerfile .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The default values:<br>
<code>CABAL_VERSION=3.8.1.0</code><br>
<code>GHC_VERSION=8.10.7  </code><br>
<code>CARDANO_NODE_VERSION=8.9.2  </code><br>
<code>PG_VERSION=14  </code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-how-to-run-the-container">2. How to run the container<a href="#2-how-to-run-the-container" class="hash-link" aria-label="Direct link to 2. How to run the container" title="Direct link to 2. How to run the container">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --env-file ./docker/.env.dockerfile -p 8082:8082 -it {image_name}:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You need to specify the path to the environment variables file and open the port. The standard Port for the API is <code>8082</code>.</p>
<p>It is recommended to use a fully synced node, otherwise it can lead to instabilities during the sync process. To speed up the process it is also recommended to use Snapshots, how to use these is explained in Chapter <strong>Node Prerequisites</strong></p>
<p>To mount Node data into the container use the following command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --env-file ./docker/.env.dockerfile -p 8082:8082 -v {node_snapshot}:/node/db -it {image_name}:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Relevant datapathes within the container:</p>
<ul>
<li><code>/node/db</code> - Cardano Node Data</li>
<li><code>/node/postgres</code> - Postgres Data</li>
<li><code>/networks</code> - Network config location</li>
<li><code>/logs</code> - Log files for each service</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-synchronization-mode">3. Synchronization mode<a href="#3-synchronization-mode" class="hash-link" aria-label="Direct link to 3. Synchronization mode" title="Direct link to 3. Synchronization mode">​</a></h3>
<p>The synchronization mode is to for users who don&#x27;t have a fully synced node and need to start from scratch without using a snapshot.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -e SYNC=true --env-file .\docker\.env.dockerfile -p 8082:8082 -d {image_name}:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The container can be started in synchronization mode. In this case, the container will verify chunks and synchronize the node, when it reaches the tip, the API is started automatically.
To start it you need to change the SYNC variable in .env.dockerfile or by adding the -e SYNC=true key when starting the container.
Progress can be tracked in the container log.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/cardano-foundation/cardano-rosetta-java/tree/main/docs/docs/getting-started/docker.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cardano-rosetta-java/docs/category/getting-started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Getting Started</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cardano-rosetta-java/docs/getting-started/h2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Getting Started with H2</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#node-prerequisites" class="table-of-contents__link toc-highlight">Node Prerequisites</a></li></ul></li><li><a href="#how-to-run-with-docker-compose" class="table-of-contents__link toc-highlight">How to run with Docker Compose</a></li><li><a href="#how-to-run-integration-tests" class="table-of-contents__link toc-highlight">How to run integration tests</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a><ul><li><a href="#0-configuration-of-the-docker-image" class="table-of-contents__link toc-highlight">0. Configuration of the Docker Image</a></li><li><a href="#1-how-to-build-the-docker-image-from-source" class="table-of-contents__link toc-highlight">1. How to build the Docker Image from Source</a></li><li><a href="#2-how-to-run-the-container" class="table-of-contents__link toc-highlight">2. How to run the container</a></li><li><a href="#3-synchronization-mode" class="table-of-contents__link toc-highlight">3. Synchronization mode</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                  <div class="footer-container">
                    <div class="footer-row">
                      <a href="/docs/intro" class="footer-icon-link" aria-label="Documentation">
                        <span class="footer-icon footer-icon-docs"></span>
                      </a>
                      <a href="/cardano-rosetta-java/api" class="footer-icon-link" aria-label="API Reference">
                        <span class="footer-icon footer-icon-api"></span>
                      </a>
                      <a href="https://twitter.com/cardano" class="footer-icon-link" aria-label="Twitter">
                        <span class="footer-icon footer-icon-twitter"></span>
                      </a>
                      <a href="https://github.com/cardano-foundation/cardano-rosetta-java" class="footer-icon-link" aria-label="GitHub">
                        <span class="footer-icon footer-icon-github"></span>
                      </a>
                      <a href="https://cardano.org" class="footer-icon-link" aria-label="Cardano">
                        <span class="footer-icon footer-icon-cardano"></span>
                      </a>
                    </div>
                    <div class="footer-copyright">© 2025 Cardano Stiftung</div>
                  </div>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"> </div></div></div></footer></div>
</body>
</html>